{"failedCount":4,"prefixedPath":"src\/test\/java\/features\/Pix.feature","packageQualifiedName":"src.test.java.features.Pix","loopIndex":-1,"relativePath":"src\/test\/java\/features\/Pix.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2252900,"millis":2.2529,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":0,"text":"def urlLocal = 'http:\/\/localhost:8080'"},"stepLog":"15:39:19.008 karate.env system property was: null \n"},{"result":{"nanos":85283000,"millis":85.283,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":1,"text":"def body = read('classpath:features\/payloads\/payload_addchavepix.json')"}},{"result":{"nanos":1037538300,"millis":1037.5383,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def novaCarteira = callonce read('classpath:features\/Carteira.feature@TC-02')"},"stepLog":"15:39:20.187 << lock released, cached callonce: read('classpath:features\/Carteira.feature@TC-02')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/Carteira.feature","packageQualifiedName":"features.Carteira","loopIndex":-1,"relativePath":"features\/Carteira.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1624500,"millis":1.6245,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":0,"text":"def urlLocal = 'http:\/\/localhost:8080'"},"stepLog":"15:39:19.157 >> lock acquired, begin callonce: read('classpath:features\/Carteira.feature@TC-02')\n"},{"result":{"nanos":1720200,"millis":1.7202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":1,"text":"def body = read('classpath:features\/payloads\/payload_carteira.json')"}},{"result":{"nanos":978288200,"millis":978.2882,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def novaPessoa = callonce read('classpath:features\/Pessoas.feature@TC-01')"},"stepLog":"15:39:20.149 << lock released, cached callonce: read('classpath:features\/Pessoas.feature@TC-01')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/Pessoas.feature","packageQualifiedName":"features.Pessoas","loopIndex":-1,"relativePath":"features\/Pessoas.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":240700,"millis":0.2407,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":0,"text":"def urlLocal = 'http:\/\/localhost:8080'"},"stepLog":"15:39:19.174 >> lock acquired, begin callonce: read('classpath:features\/Pessoas.feature@TC-01')\n"},{"result":{"nanos":2022300,"millis":2.0223,"status":"passed"},"step":{"comments":["#registrando nova pessoa"],"line":14,"prefix":"*","index":0,"text":"def body = read('classpath:features\/payloads\/payload_pessoa.json')"}},{"result":{"nanos":1407600,"millis":1.4076,"status":"passed"},"step":{"line":15,"prefix":"Given","index":1,"text":"url urlLocal"}},{"result":{"nanos":730600,"millis":0.7306,"status":"passed"},"step":{"line":16,"prefix":"And","index":2,"text":"path '\/pessoa'"}},{"result":{"nanos":224700,"millis":0.2247,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request body"}},{"result":{"nanos":932667100,"millis":932.6671,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method post"},"stepLog":"15:39:20.067 request:\n1 > POST http:\/\/localhost:8080\/pessoa\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 162\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_261)\n1 > Accept-Encoding: gzip,deflate\n{\"cpf\":\"043.700.270-55\",\"nome\":\"RoboAutomacao\",\"email\":\"automacao@gmail.com.br\",\"telefone\":\"11940028922\",\"status\":\"Teste\",\"login\":\"Automacao\",\"senha\":\"testes123\"}\n\n15:39:20.115 response time in milliseconds: 45\n1 < 201\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Thu, 08 Dec 2022 18:39:20 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\n{\"id\":4,\"cpf\":\"043.700.270-55\",\"nome\":\"RoboAutomacao\",\"email\":\"automacao@gmail.com.br\",\"status\":\"Teste\",\"login\":\"Automacao\",\"telefone\":\"11940028922\"}\n\n"},{"result":{"nanos":2012300,"millis":2.0123,"status":"passed"},"step":{"line":19,"prefix":"And","index":5,"text":"print response"},"stepLog":"15:39:20.119 [print] {\n  \"id\": 4,\n  \"cpf\": \"043.700.270-55\",\n  \"nome\": \"RoboAutomacao\",\n  \"email\": \"automacao@gmail.com.br\",\n  \"status\": \"Teste\",\n  \"login\": \"Automacao\",\n  \"telefone\": \"11940028922\"\n}\n \n"},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":20,"prefix":"Then","index":6,"text":"status 201"}},{"result":{"nanos":927800,"millis":0.9278,"status":"passed"},"step":{"line":21,"prefix":"*","index":7,"text":"def idCriado = response.id"}},{"result":{"nanos":314900,"millis":0.3149,"status":"passed"},"step":{"comments":["#consultando a pessoa registrada"],"line":23,"prefix":"Given","index":8,"text":"url urlLocal"}},{"result":{"nanos":6786800,"millis":6.7868,"status":"passed"},"step":{"line":24,"prefix":"And","index":9,"text":"path '\/pessoa\/' + idCriado"}},{"result":{"nanos":7217600,"millis":7.2176,"status":"passed"},"step":{"line":25,"prefix":"When","index":10,"text":"method get"},"stepLog":"15:39:20.129 request:\n2 > GET http:\/\/localhost:8080\/pessoa\/4\n2 > Host: localhost:8080\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_261)\n2 > Accept-Encoding: gzip,deflate\n\n\n15:39:20.134 response time in milliseconds: 5\n2 < 200\n2 < Content-Type: application\/json\n2 < Transfer-Encoding: chunked\n2 < Date: Thu, 08 Dec 2022 18:39:20 GMT\n2 < Keep-Alive: timeout=60\n2 < Connection: keep-alive\n{\"id\":4,\"cpf\":\"043.700.270-55\",\"nome\":\"RoboAutomacao\",\"email\":\"automacao@gmail.com.br\",\"status\":\"Teste\",\"login\":\"Automacao\",\"telefone\":\"11940028922\"}\n\n"},{"result":{"nanos":513100,"millis":0.5131,"status":"passed"},"step":{"line":26,"prefix":"And","index":11,"text":"print response"},"stepLog":"15:39:20.135 [print] {\n  \"id\": 4,\n  \"cpf\": \"043.700.270-55\",\n  \"nome\": \"RoboAutomacao\",\n  \"email\": \"automacao@gmail.com.br\",\n  \"status\": \"Teste\",\n  \"login\": \"Automacao\",\n  \"telefone\": \"11940028922\"\n}\n \n"},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"Then","index":12,"text":"status 200"}},{"result":{"nanos":8202400,"millis":8.2024,"status":"passed"},"step":{"line":28,"prefix":"Then","index":13,"text":"match response.id == idCriado"}},{"result":{"nanos":734900,"millis":0.7349,"status":"passed"},"step":{"line":29,"prefix":"Then","index":14,"text":"match response.cpf == '043.700.270-55'"}},{"result":{"nanos":481800,"millis":0.4818,"status":"passed"},"step":{"line":30,"prefix":"Then","index":15,"text":"match response.nome == 'RoboAutomacao'"}},{"result":{"nanos":397700,"millis":0.3977,"status":"passed"},"step":{"line":31,"prefix":"Then","index":16,"text":"match response.email == 'automacao@gmail.com.br'"}},{"result":{"nanos":440700,"millis":0.4407,"status":"passed"},"step":{"line":32,"prefix":"Then","index":17,"text":"match response.status == 'Teste'"}},{"result":{"nanos":466200,"millis":0.4662,"status":"passed"},"step":{"line":33,"prefix":"Then","index":18,"text":"match response.login == 'Automacao'"}},{"result":{"nanos":429400,"millis":0.4294,"status":"passed"},"step":{"line":34,"prefix":"Then","index":19,"text":"match response.telefone == '11940028922'"}}],"line":12,"description":"","durationMillis":966.2428,"failed":false,"tags":["TC-01","Pessoa"],"executorName":"main","name":"Registrar uma nova pessoa e validar seu cadastro","startTime":1670524759179,"refId":"[1:12]","endTime":1670524760147,"exampleIndex":-1}],"callDepth":2,"name":"Validar funcionalidade de cadastro de pessoas via backend","description":"","resultDate":"2022-12-08 03:39:20 PM","durationMillis":966.2428,"passedCount":1}]},{"result":{"nanos":177400,"millis":0.1774,"status":"passed"},"step":{"comments":["#registrando nova carteira"],"line":16,"prefix":"Given","index":1,"text":"url urlLocal"}},{"result":{"nanos":466400,"millis":0.4664,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"path '\/carteira'"}},{"result":{"nanos":1072900,"millis":1.0729,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"print novaPessoa.response.id"},"stepLog":"15:39:20.151 [print] 4 \n"},{"result":{"nanos":1335400,"millis":1.3354,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"set body.idPessoa.id = novaPessoa.response.id"}},{"result":{"nanos":73800,"millis":0.0738,"status":"passed"},"step":{"line":20,"prefix":"And","index":5,"text":"request body"}},{"result":{"nanos":9862500,"millis":9.8625,"status":"passed"},"step":{"line":21,"prefix":"When","index":6,"text":"method post"},"stepLog":"15:39:20.154 request:\n3 > POST http:\/\/localhost:8080\/carteira\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Content-Length: 37\n3 > Host: localhost:8080\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_261)\n3 > Accept-Encoding: gzip,deflate\n{\"idPessoa\":{\"id\":4},\"saldo\":10000.0}\n\n15:39:20.162 response time in milliseconds: 8\n3 < 201\n3 < Content-Type: application\/json\n3 < Transfer-Encoding: chunked\n3 < Date: Thu, 08 Dec 2022 18:39:20 GMT\n3 < Keep-Alive: timeout=60\n3 < Connection: keep-alive\n{\"id\":4,\"idPessoa\":{\"id\":4,\"cpf\":null,\"nome\":null,\"email\":null,\"telefone\":null,\"status\":null,\"login\":null},\"saldo\":10000.0,\"chavePix\":null}\n\n"},{"result":{"nanos":630600,"millis":0.6306,"status":"passed"},"step":{"line":22,"prefix":"And","index":7,"text":"print response"},"stepLog":"15:39:20.163 [print] {\n  \"id\": 4,\n  \"idPessoa\": {\n    \"id\": 4,\n    \"cpf\": null,\n    \"nome\": null,\n    \"email\": null,\n    \"telefone\": null,\n    \"status\": null,\n    \"login\": null\n  },\n  \"saldo\": 10000.0,\n  \"chavePix\": null\n}\n \n"},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":23,"prefix":"Then","index":8,"text":"status 201"}},{"result":{"nanos":645700,"millis":0.6457,"status":"passed"},"step":{"line":24,"prefix":"*","index":9,"text":"def idCarteira = response.id"}},{"result":{"nanos":1064900,"millis":1.0649,"status":"passed"},"step":{"line":25,"prefix":"And","index":10,"text":"print idCarteira"},"stepLog":"15:39:20.165 [print] 4 \n"},{"result":{"nanos":125900,"millis":0.1259,"status":"passed"},"step":{"comments":["#consultando a pessoa registrada"],"line":27,"prefix":"Given","index":11,"text":"url urlLocal"}},{"result":{"nanos":183000,"millis":0.183,"status":"passed"},"step":{"line":28,"prefix":"And","index":12,"text":"path '\/carteira'"}},{"result":{"nanos":17362100,"millis":17.3621,"status":"passed"},"step":{"line":29,"prefix":"When","index":13,"text":"method get"},"stepLog":"15:39:20.167 request:\n4 > GET http:\/\/localhost:8080\/carteira\n4 > Host: localhost:8080\n4 > Connection: Keep-Alive\n4 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_261)\n4 > Accept-Encoding: gzip,deflate\n\n\n15:39:20.181 response time in milliseconds: 14\n4 < 200\n4 < Content-Type: application\/json\n4 < Transfer-Encoding: chunked\n4 < Date: Thu, 08 Dec 2022 18:39:20 GMT\n4 < Keep-Alive: timeout=60\n4 < Connection: keep-alive\n[{\"id\":1,\"idPessoa\":{\"id\":1,\"cpf\":\"1234\",\"nome\":\"Micael Trivelato\",\"email\":\"micael.hyppolito@deal.com.br\",\"telefone\":\"11999999999\",\"status\":\"Ativo\",\"login\":\"micael3600\"},\"saldo\":5042.98,\"chavePix\":[{\"id\":2,\"tipoChave\":\"EMAIL\",\"descricao\":\"email@email.com\"},{\"id\":1,\"tipoChave\":\"CELULAR\",\"descricao\":\"11999999999\"}]},{\"id\":2,\"idPessoa\":{\"id\":2,\"cpf\":\"1234\",\"nome\":\"Micael Trivelato\",\"email\":\"micael.hyppolito@deal.com.br\",\"telefone\":\"11999999999\",\"status\":\"Ativo\",\"login\":\"micael3600\"},\"saldo\":10000.0,\"chavePix\":[{\"id\":3,\"tipoChave\":\"CPF\",\"descricao\":\"4044040430\"}]},{\"id\":3,\"idPessoa\":{\"id\":3,\"cpf\":\"043.700.270-55\",\"nome\":\"RoboAutomacao\",\"email\":\"automacao@gmail.com.br\",\"telefone\":\"11940028922\",\"status\":\"Teste\",\"login\":\"Automacao\"},\"saldo\":10000.0,\"chavePix\":[{\"id\":6,\"tipoChave\":\"EMAIL\",\"descricao\":\"emailautomacaogmail.com\"},{\"id\":7,\"tipoChave\":\"CELULAR\",\"descricao\":\"11940028922\"},{\"id\":9,\"tipoChave\":\"ALEATORIA\",\"descricao\":\"ALEATORIA\"}]},{\"id\":4,\"idPessoa\":{\"id\":4,\"cpf\":\"043.700.270-55\",\"nome\":\"RoboAutomacao\",\"email\":\"automacao@gmail.com.br\",\"telefone\":\"11940028922\",\"status\":\"Teste\",\"login\":\"Automacao\"},\"saldo\":10000.0,\"chavePix\":[]}]\n\n"},{"result":{"nanos":2112300,"millis":2.1123,"status":"passed"},"step":{"line":30,"prefix":"And","index":14,"text":"print response"},"stepLog":"15:39:20.185 [print] [\n  {\n    \"id\": 1,\n    \"idPessoa\": {\n      \"id\": 1,\n      \"cpf\": \"1234\",\n      \"nome\": \"Micael Trivelato\",\n      \"email\": \"micael.hyppolito@deal.com.br\",\n      \"telefone\": \"11999999999\",\n      \"status\": \"Ativo\",\n      \"login\": \"micael3600\"\n    },\n    \"saldo\": 5042.98,\n    \"chavePix\": [\n      {\n        \"id\": 2,\n        \"tipoChave\": \"EMAIL\",\n        \"descricao\": \"email@email.com\"\n      },\n      {\n        \"id\": 1,\n        \"tipoChave\": \"CELULAR\",\n        \"descricao\": \"11999999999\"\n      }\n    ]\n  },\n  {\n    \"id\": 2,\n    \"idPessoa\": {\n      \"id\": 2,\n      \"cpf\": \"1234\",\n      \"nome\": \"Micael Trivelato\",\n      \"email\": \"micael.hyppolito@deal.com.br\",\n      \"telefone\": \"11999999999\",\n      \"status\": \"Ativo\",\n      \"login\": \"micael3600\"\n    },\n    \"saldo\": 10000.0,\n    \"chavePix\": [\n      {\n        \"id\": 3,\n        \"tipoChave\": \"CPF\",\n        \"descricao\": \"4044040430\"\n      }\n    ]\n  },\n  {\n    \"id\": 3,\n    \"idPessoa\": {\n      \"id\": 3,\n      \"cpf\": \"043.700.270-55\",\n      \"nome\": \"RoboAutomacao\",\n      \"email\": \"automacao@gmail.com.br\",\n      \"telefone\": \"11940028922\",\n      \"status\": \"Teste\",\n      \"login\": \"Automacao\"\n    },\n    \"saldo\": 10000.0,\n    \"chavePix\": [\n      {\n        \"id\": 6,\n        \"tipoChave\": \"EMAIL\",\n        \"descricao\": \"emailautomacaogmail.com\"\n      },\n      {\n        \"id\": 7,\n        \"tipoChave\": \"CELULAR\",\n        \"descricao\": \"11940028922\"\n      },\n      {\n        \"id\": 9,\n        \"tipoChave\": \"ALEATORIA\",\n        \"descricao\": \"ALEATORIA\"\n      }\n    ]\n  },\n  {\n    \"id\": 4,\n    \"idPessoa\": {\n      \"id\": 4,\n      \"cpf\": \"043.700.270-55\",\n      \"nome\": \"RoboAutomacao\",\n      \"email\": \"automacao@gmail.com.br\",\n      \"telefone\": \"11940028922\",\n      \"status\": \"Teste\",\n      \"login\": \"Automacao\"\n    },\n    \"saldo\": 10000.0,\n    \"chavePix\": [\n    ]\n  }\n]\n \n"},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":31,"prefix":"Then","index":15,"text":"status 200"}},{"result":{"nanos":779100,"millis":0.7791,"status":"passed"},"step":{"line":32,"prefix":"Then","index":16,"text":"match response[*].id contains idCarteira"}}],"line":13,"description":"","durationMillis":1017.5463,"failed":false,"tags":["Carteira","TC-02"],"executorName":"main","name":"Criar uma nova carteira e validar seu registro","startTime":1670524759166,"refId":"[1:13]","endTime":1670524760186,"exampleIndex":-1}],"callDepth":1,"name":"Validar funcionalidade de criação de carteiras via backend","description":"","resultDate":"2022-12-08 03:39:20 PM","durationMillis":1017.5463,"passedCount":1}]},{"result":{"nanos":94300,"millis":0.0943,"status":"passed"},"step":{"comments":["#registrando nova carteira"],"line":16,"prefix":"Given","index":1,"text":"url urlLocal"}},{"result":{"nanos":603300,"millis":0.6033,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"path '\/chaves-pix\/' + novaCarteira.idCarteira"}},{"result":{"nanos":833800,"millis":0.8338,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"set body.tipoChave = 'EMAIL'"}},{"result":{"nanos":681300,"millis":0.6813,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"set body.descricao = 'emailautomacaogmail.com'"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"line":20,"prefix":"And","index":5,"text":"request body"}},{"result":{"nanos":41462700,"millis":41.4627,"status":"passed"},"step":{"line":21,"prefix":"And","index":6,"text":"method post"},"stepLog":"15:39:20.191 request:\n5 > POST http:\/\/localhost:8080\/chaves-pix\/4\n5 > Content-Type: application\/json; charset=UTF-8\n5 > Content-Length: 59\n5 > Host: localhost:8080\n5 > Connection: Keep-Alive\n5 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_261)\n5 > Accept-Encoding: gzip,deflate\n{\"tipoChave\":\"EMAIL\",\"descricao\":\"emailautomacaogmail.com\"}\n\n15:39:20.229 response time in milliseconds: 37\n5 < 500\n5 < Content-Type: application\/json\n5 < Transfer-Encoding: chunked\n5 < Date: Thu, 08 Dec 2022 18:39:20 GMT\n5 < Connection: close\n{\"timestamp\":\"2022-12-08T18:39:20.224+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\n\n"},{"result":{"nanos":175900,"errorMessage":"status code was: 500, expected: 201, response time in milliseconds: 37, url: http:\/\/localhost:8080\/chaves-pix\/4, response: \n{\"timestamp\":\"2022-12-08T18:39:20.224+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\nsrc\/test\/java\/features\/Pix.feature:22","millis":0.1759,"status":"failed"},"step":{"line":22,"prefix":"And","index":7,"text":"status 201"},"stepLog":"15:39:20.233 src\/test\/java\/features\/Pix.feature:22\nAnd status 201\nstatus code was: 500, expected: 201, response time in milliseconds: 37, url: http:\/\/localhost:8080\/chaves-pix\/4, response: \n{\"timestamp\":\"2022-12-08T18:39:20.224+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\nsrc\/test\/java\/features\/Pix.feature:22\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"Then","index":8,"text":"match response.id == '#number'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"Then","index":9,"text":"match response.tipoChave == 'EMAIL'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"Then","index":10,"text":"match response.descricao == 'emailautomacaogmail.com'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#removendo a chave criada para não manter duplicadas"],"line":27,"prefix":"Given","index":11,"text":"url urlLocal"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":12,"text":"path '\/carteira\/', novaCarteira.idCarteira, '\/', emailautomacaogmail.com"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"And","index":13,"text":"method delete"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"And","index":14,"text":"status 200"}}],"line":34,"description":"","durationMillis":1168.9838,"failed":true,"error":"status code was: 500, expected: 201, response time in milliseconds: 37, url: http:\/\/localhost:8080\/chaves-pix\/4, response: \n{\"timestamp\":\"2022-12-08T18:39:20.224+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 6 *\/ 'emailautomacaogmail.com' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\nsrc\/test\/java\/features\/Pix.feature:22","tags":["TC-04","Pix"],"executorName":"main","name":"Cadastrar chave tipo 'EMAIL' e remover em seguida","startTime":1670524758770,"refId":"[1.1:34]","endTime":1670524760234,"exampleData":{"tipoChave":"'EMAIL'","chave":"emailautomacaogmail.com"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":910000,"millis":0.91,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":0,"text":"def urlLocal = 'http:\/\/localhost:8080'"},"stepLog":"15:39:20.246 karate.env system property was: null \n"},{"result":{"nanos":2051000,"millis":2.051,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":1,"text":"def body = read('classpath:features\/payloads\/payload_addchavepix.json')"}},{"result":{"nanos":4730700,"millis":4.7307,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def novaCarteira = callonce read('classpath:features\/Carteira.feature@TC-02')"}},{"result":{"nanos":144400,"millis":0.1444,"status":"passed"},"step":{"comments":["#registrando nova carteira"],"line":16,"prefix":"Given","index":1,"text":"url urlLocal"}},{"result":{"nanos":354000,"millis":0.354,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"path '\/chaves-pix\/' + novaCarteira.idCarteira"}},{"result":{"nanos":1035200,"millis":1.0352,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"set body.tipoChave = 'CELULAR'"}},{"result":{"nanos":844500,"millis":0.8445,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"set body.descricao = '11940028922'"}},{"result":{"nanos":176500,"millis":0.1765,"status":"passed"},"step":{"line":20,"prefix":"And","index":5,"text":"request body"}},{"result":{"nanos":48208000,"millis":48.208,"status":"passed"},"step":{"line":21,"prefix":"And","index":6,"text":"method post"},"stepLog":"15:39:20.260 request:\n1 > POST http:\/\/localhost:8080\/chaves-pix\/4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 49\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_261)\n1 > Accept-Encoding: gzip,deflate\n{\"tipoChave\":\"CELULAR\",\"descricao\":\"11940028922\"}\n\n15:39:20.305 response time in milliseconds: 44\n1 < 500\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Thu, 08 Dec 2022 18:39:20 GMT\n1 < Connection: close\n{\"timestamp\":\"2022-12-08T18:39:20.300+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\n\n"},{"result":{"nanos":59800,"errorMessage":"status code was: 500, expected: 201, response time in milliseconds: 44, url: http:\/\/localhost:8080\/chaves-pix\/4, response: \n{\"timestamp\":\"2022-12-08T18:39:20.300+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\nsrc\/test\/java\/features\/Pix.feature:22","millis":0.0598,"status":"failed"},"step":{"line":22,"prefix":"And","index":7,"text":"status 201"},"stepLog":"15:39:20.308 src\/test\/java\/features\/Pix.feature:22\nAnd status 201\nstatus code was: 500, expected: 201, response time in milliseconds: 44, url: http:\/\/localhost:8080\/chaves-pix\/4, response: \n{\"timestamp\":\"2022-12-08T18:39:20.300+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\nsrc\/test\/java\/features\/Pix.feature:22\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"Then","index":8,"text":"match response.id == '#number'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"Then","index":9,"text":"match response.tipoChave == 'CELULAR'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"Then","index":10,"text":"match response.descricao == '11940028922'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#removendo a chave criada para não manter duplicadas"],"line":27,"prefix":"Given","index":11,"text":"url urlLocal"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":12,"text":"path '\/carteira\/', novaCarteira.idCarteira, '\/', 11940028922"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"And","index":13,"text":"method delete"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"And","index":14,"text":"status 200"}}],"line":35,"description":"","durationMillis":58.5141,"failed":true,"error":"status code was: 500, expected: 201, response time in milliseconds: 44, url: http:\/\/localhost:8080\/chaves-pix\/4, response: \n{\"timestamp\":\"2022-12-08T18:39:20.300+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 7 *\/ '11940028922' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\nsrc\/test\/java\/features\/Pix.feature:22","tags":["TC-04","Pix"],"executorName":"main","name":"Cadastrar chave tipo 'CELULAR' e remover em seguida","startTime":1670524760243,"refId":"[1.2:35]","endTime":1670524760308,"exampleData":{"tipoChave":"'CELULAR'","chave":"11940028922"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":366100,"millis":0.3661,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":0,"text":"def urlLocal = 'http:\/\/localhost:8080'"},"stepLog":"15:39:20.319 karate.env system property was: null \n"},{"result":{"nanos":1259800,"millis":1.2598,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":1,"text":"def body = read('classpath:features\/payloads\/payload_addchavepix.json')"}},{"result":{"nanos":4539200,"millis":4.5392,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def novaCarteira = callonce read('classpath:features\/Carteira.feature@TC-02')"}},{"result":{"nanos":118300,"millis":0.1183,"status":"passed"},"step":{"comments":["#registrando nova carteira"],"line":16,"prefix":"Given","index":1,"text":"url urlLocal"}},{"result":{"nanos":261900,"millis":0.2619,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"path '\/chaves-pix\/' + novaCarteira.idCarteira"}},{"result":{"nanos":987500,"millis":0.9875,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"set body.tipoChave = 'CPF'"}},{"result":{"nanos":865700,"millis":0.8657,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"set body.descricao = '00000000000'"}},{"result":{"nanos":110500,"millis":0.1105,"status":"passed"},"step":{"line":20,"prefix":"And","index":5,"text":"request body"}},{"result":{"nanos":13269100,"millis":13.2691,"status":"passed"},"step":{"line":21,"prefix":"And","index":6,"text":"method post"},"stepLog":"15:39:20.331 request:\n1 > POST http:\/\/localhost:8080\/chaves-pix\/4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 45\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_261)\n1 > Accept-Encoding: gzip,deflate\n{\"tipoChave\":\"CPF\",\"descricao\":\"00000000000\"}\n\n15:39:20.341 response time in milliseconds: 10\n1 < 201\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Thu, 08 Dec 2022 18:39:20 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\n{\"id\":12,\"tipoChave\":\"CPF\",\"descricao\":\"00000000000\"}\n\n"},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":22,"prefix":"And","index":7,"text":"status 201"}},{"result":{"nanos":901000,"millis":0.901,"status":"passed"},"step":{"line":23,"prefix":"Then","index":8,"text":"match response.id == '#number'"}},{"result":{"nanos":411200,"millis":0.4112,"status":"passed"},"step":{"line":24,"prefix":"Then","index":9,"text":"match response.tipoChave == 'CPF'"}},{"result":{"nanos":284500,"millis":0.2845,"status":"passed"},"step":{"line":25,"prefix":"Then","index":10,"text":"match response.descricao == '00000000000'"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"comments":["#removendo a chave criada para não manter duplicadas"],"line":27,"prefix":"Given","index":11,"text":"url urlLocal"}},{"result":{"nanos":14067300,"millis":14.0673,"status":"passed"},"step":{"line":28,"prefix":"And","index":12,"text":"path '\/carteira\/', novaCarteira.idCarteira, '\/', 00000000000"}},{"result":{"nanos":23925100,"millis":23.9251,"status":"passed"},"step":{"line":29,"prefix":"And","index":13,"text":"method delete"},"stepLog":"15:39:20.359 request:\n2 > DELETE http:\/\/localhost:8080\/carteira\/4\/0\n2 > Host: localhost:8080\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_261)\n2 > Accept-Encoding: gzip,deflate\n\n\n15:39:20.380 response time in milliseconds: 20\n2 < 500\n2 < Content-Type: application\/json\n2 < Transfer-Encoding: chunked\n2 < Date: Thu, 08 Dec 2022 18:39:20 GMT\n2 < Connection: close\n{\"timestamp\":\"2022-12-08T18:39:20.376+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"jakarta.persistence.EntityNotFoundException: Chave PIX não encontrada: 0\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService.deleteByDescricao(ChavesPixService.java:52)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.deleteByDescricao(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.CarteiraController.deletePixByIdConta(CarteiraController.java:56)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:928)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:737)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\n\",\"message\":\"Chave PIX não encontrada: 0\",\"path\":\"\/carteira\/4\/0\"}\n\n"},{"result":{"nanos":67600,"errorMessage":"status code was: 500, expected: 200, response time in milliseconds: 20, url: http:\/\/localhost:8080\/carteira\/4\/0, response: \n{\"timestamp\":\"2022-12-08T18:39:20.376+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"jakarta.persistence.EntityNotFoundException: Chave PIX não encontrada: 0\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService.deleteByDescricao(ChavesPixService.java:52)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.deleteByDescricao(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.CarteiraController.deletePixByIdConta(CarteiraController.java:56)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:928)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:737)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\n\",\"message\":\"Chave PIX não encontrada: 0\",\"path\":\"\/carteira\/4\/0\"}\nsrc\/test\/java\/features\/Pix.feature:30","millis":0.0676,"status":"failed"},"step":{"line":30,"prefix":"And","index":14,"text":"status 200"},"stepLog":"15:39:20.383 src\/test\/java\/features\/Pix.feature:30\nAnd status 200\nstatus code was: 500, expected: 200, response time in milliseconds: 20, url: http:\/\/localhost:8080\/carteira\/4\/0, response: \n{\"timestamp\":\"2022-12-08T18:39:20.376+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"jakarta.persistence.EntityNotFoundException: Chave PIX não encontrada: 0\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService.deleteByDescricao(ChavesPixService.java:52)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.deleteByDescricao(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.CarteiraController.deletePixByIdConta(CarteiraController.java:56)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:928)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:737)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\n\",\"message\":\"Chave PIX não encontrada: 0\",\"path\":\"\/carteira\/4\/0\"}\nsrc\/test\/java\/features\/Pix.feature:30\n"}],"line":36,"description":"","durationMillis":61.5182,"failed":true,"error":"status code was: 500, expected: 200, response time in milliseconds: 20, url: http:\/\/localhost:8080\/carteira\/4\/0, response: \n{\"timestamp\":\"2022-12-08T18:39:20.376+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"jakarta.persistence.EntityNotFoundException: Chave PIX não encontrada: 0\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService.deleteByDescricao(ChavesPixService.java:52)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.deleteByDescricao(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.CarteiraController.deletePixByIdConta(CarteiraController.java:56)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:928)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:737)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\n\",\"message\":\"Chave PIX não encontrada: 0\",\"path\":\"\/carteira\/4\/0\"}\nsrc\/test\/java\/features\/Pix.feature:30","tags":["TC-04","Pix"],"executorName":"main","name":"Cadastrar chave tipo 'CPF' e remover em seguida","startTime":1670524760318,"refId":"[1.3:36]","endTime":1670524760383,"exampleData":{"tipoChave":"'CPF'","chave":"00000000000"},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":416800,"millis":0.4168,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":0,"text":"def urlLocal = 'http:\/\/localhost:8080'"},"stepLog":"15:39:20.389 karate.env system property was: null \n"},{"result":{"nanos":1072400,"millis":1.0724,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":1,"text":"def body = read('classpath:features\/payloads\/payload_addchavepix.json')"}},{"result":{"nanos":2554800,"millis":2.5548,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def novaCarteira = callonce read('classpath:features\/Carteira.feature@TC-02')"}},{"result":{"nanos":120500,"millis":0.1205,"status":"passed"},"step":{"comments":["#registrando nova carteira"],"line":16,"prefix":"Given","index":1,"text":"url urlLocal"}},{"result":{"nanos":232100,"millis":0.2321,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"path '\/chaves-pix\/' + novaCarteira.idCarteira"}},{"result":{"nanos":618500,"millis":0.6185,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"set body.tipoChave = 'ALEATORIA'"}},{"result":{"nanos":404200,"millis":0.4042,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"set body.descricao = 'ALEATORIA'"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"line":20,"prefix":"And","index":5,"text":"request body"}},{"result":{"nanos":31279400,"millis":31.2794,"status":"passed"},"step":{"line":21,"prefix":"And","index":6,"text":"method post"},"stepLog":"15:39:20.397 request:\n1 > POST http:\/\/localhost:8080\/chaves-pix\/4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 49\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_261)\n1 > Accept-Encoding: gzip,deflate\n{\"tipoChave\":\"ALEATORIA\",\"descricao\":\"ALEATORIA\"}\n\n15:39:20.426 response time in milliseconds: 28\n1 < 500\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Thu, 08 Dec 2022 18:39:20 GMT\n1 < Connection: close\n{\"timestamp\":\"2022-12-08T18:39:20.422+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\n\n"},{"result":{"nanos":55900,"errorMessage":"status code was: 500, expected: 201, response time in milliseconds: 28, url: http:\/\/localhost:8080\/chaves-pix\/4, response: \n{\"timestamp\":\"2022-12-08T18:39:20.422+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\nsrc\/test\/java\/features\/Pix.feature:22","millis":0.0559,"status":"failed"},"step":{"line":22,"prefix":"And","index":7,"text":"status 201"},"stepLog":"15:39:20.428 src\/test\/java\/features\/Pix.feature:22\nAnd status 201\nstatus code was: 500, expected: 201, response time in milliseconds: 28, url: http:\/\/localhost:8080\/chaves-pix\/4, response: \n{\"timestamp\":\"2022-12-08T18:39:20.422+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\nsrc\/test\/java\/features\/Pix.feature:22\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"Then","index":8,"text":"match response.id == '#number'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"Then","index":9,"text":"match response.tipoChave == 'ALEATORIA'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"Then","index":10,"text":"match response.descricao == 'ALEATORIA'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#removendo a chave criada para não manter duplicadas"],"line":27,"prefix":"Given","index":11,"text":"url urlLocal"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"And","index":12,"text":"path '\/carteira\/', novaCarteira.idCarteira, '\/', ALEATORIA"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"And","index":13,"text":"method delete"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"And","index":14,"text":"status 200"}}],"line":37,"description":"","durationMillis":36.8062,"failed":true,"error":"status code was: 500, expected: 201, response time in milliseconds: 28, url: http:\/\/localhost:8080\/chaves-pix\/4, response: \n{\"timestamp\":\"2022-12-08T18:39:20.422+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"trace\":\"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:270)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\\r\\n\\tat br.com.meta.bank.metabank.services.ChavesPixService$$SpringCGLIB$$0.save(<generated>)\\r\\n\\tat br.com.meta.bank.metabank.controllers.ChavesPixController.save(ChavesPixController.java:43)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base\/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\\r\\n\\tat java.base\/java.lang.reflect.Method.invoke(Unknown Source)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base\/java.lang.Thread.run(Unknown Source)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:60)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3386)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3991)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\\r\\n\\tat java.base\/java.util.LinkedHashMap.forEach(Unknown Source)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1422)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:476)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2233)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1929)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 64 more\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:223)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:199)\\r\\n\\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)\\r\\n\\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:174)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:135)\\r\\n\\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:252)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 84 more\\r\\n\",\"message\":\"could not execute statement; SQL [n\/a]; constraint [\\\"PUBLIC.UK_2UBUCHISM4YLVYL8WPCI3ECN3_INDEX_A ON PUBLIC.CHAVESPIX(DESCRICAO NULLS FIRST) VALUES ( \/* 9 *\/ 'ALEATORIA' )\\\"; SQL statement:\\ninsert into chavespix (descricao, tipo_chave, id) values (?, ?, ?) [23505-214]]\",\"path\":\"\/chaves-pix\/4\"}\nsrc\/test\/java\/features\/Pix.feature:22","tags":["TC-04","Pix"],"executorName":"main","name":"Cadastrar chave tipo 'ALEATORIA' e remover em seguida","startTime":1670524760388,"refId":"[1.4:37]","endTime":1670524760428,"exampleData":{"tipoChave":"'ALEATORIA'","chave":"ALEATORIA"},"exampleIndex":3}],"callDepth":0,"name":"Validar funcionalidade de chaves pix via backend","description":"","resultDate":"2022-12-08 03:39:20 PM","durationMillis":1325.8223,"passedCount":0}